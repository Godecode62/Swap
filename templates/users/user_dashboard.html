{% extends 'base.html' %}
{% load static %}

{% block title %}Mon Tableau de Bord{% endblock %}

{% block content %}
<div class="relative min-h-screen py-12 px-4 bg-gray-950 overflow-hidden font-sans text-gray-200">
    <div class="absolute inset-0 bg-radial-gradient-t from-gray-800 to-gray-950 opacity-50"></div>
    <div class="absolute inset-0 z-0 opacity-20">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
            <defs>
                <pattern id="grid" width="32" height="32" patternUnits="userSpaceOnUse">
                    <path d="M 16 0 L 16 32 M 0 16 L 32 16" fill="none" stroke="rgba(255, 255,255, 0.05)" stroke-width="1"></path>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)"></rect>
        </svg>
    </div>

    <div class="w-full max-w-5xl mx-auto relative z-10 p-8 md:p-12 space-y-12 animate-fade-in">
        
        <div class="text-center">
            <h1 class="text-4xl md:text-6xl font-extrabold text-white bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-orange-400">
                Bonjour, {{ user.username }}
            </h1>
            <p class="text-gray-400 mt-2 text-lg md:text-xl">Votre tableau de bord centralise toutes vos activités de troc.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-inbox text-4xl text-purple-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Offres Reçues</h3>
                <p class="text-gray-400 mb-4">
                    Vous avez 
                    <span class="text-purple-400 font-bold text-xl">{{ offers_received_count }}</span>
                    {% if offers_received_count > 1 %}propositions{% else %}proposition{% endif %} en attente pour vos objets actuellement.
                </p>
                <a href="{% url 'my_trades' %}?filter=received" class="inline-block bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Voir les offres
                </a>
            </div>

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-share-alt text-4xl text-blue-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Offres Envoyées</h3>
                <p class="text-gray-400 mb-4">
                    Vous avez 
                    <span class="text-blue-400 font-bold text-xl">{{ offers_sent_count }}</span>
                    {% if offers_sent_count > 1 %}propositions{% else %}proposition{% endif %} en cours de validation.
                </p>
                <a href="{% url 'my_trades' %}?filter=sent" class="inline-block bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Suivre les offres
                </a>
            </div>

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-history text-4xl text-yellow-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Historique des échanges</h3>
                <p class="text-gray-400 mb-4">
                    Consultez l'ensemble de vos trocs, y compris ceux en cours, acceptés et refusés.
                </p>
                <a href="{% url 'my_trades' %}" class="inline-block bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Voir tout l'historique
                </a>
            </div>
            
            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-boxes-stacked text-4xl text-orange-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Gérer mes objets</h3>
                <p class="text-gray-400 mb-4">
                    Accédez à la gestion complète de tous vos objets mis en ligne.
                </p>
                <a href="{% url 'user_items_dashboard' %}" class="inline-block bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Gérer les objets
                </a>
            </div>

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-check-circle text-4xl text-green-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Troc acceptés</h3>
                <p class="text-gray-400 mb-4">
                    <span class="text-green-400 font-bold text-xl">{{ accepted_trades_count }}</span>
                    {% if accepted_trades_count > 1 %}propositions{% else %}proposition{% endif %} que vous avez faites ont été acceptées par d'autres swappers.
                </p>
                <a href="{% url 'trade_history' status='accepted' %}" class="inline-block bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Voir les trocs
                </a>
            </div>

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-times-circle text-4xl text-red-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Troc refusés</h3>
                <p class="text-gray-400 mb-4">
                    <span class="text-red-400 font-bold text-xl">{{ refused_trades_count }}</span>
                    {% if refused_trades_count > 1 %}propositions{% else %}proposition{% endif %} que vous avez faites ont été refusées par d'autres swappers.
                </p>
                <a href="{% url 'trade_history' status='rejected' %}" class="inline-block bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Voir les trocs
                </a>
            </div>

            {% comment %} <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-ban text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Offres Annulées</h3>
                <p class="text-gray-400 mb-4">
                    <span class="text-gray-400 font-bold text-xl">{{ cancelled_trades_count }}</span>
                    proposition{% if cancelled_trades_count > 1 %}s{% endif %} annulée{% if cancelled_trades_count > 1 %}s{% endif %}.
                </p>
                <a href="{% url 'trade_history' status='cancelled' %}" class="inline-block bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Voir l'historique
                </a>
            </div> {% endcomment %}
            
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12">
            
            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-headset text-4xl text-cyan-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Communication et Support</h3>
                <p class="text-gray-400 mb-4">Gérez vos tickets de support et vos notifications.</p>
                <a href="{% url 'communication_dashboard' %}" class="inline-block bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">
                    Aller au dashboard
                </a>
            </div>

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-user-circle text-4xl text-green-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Mon Profil</h3>
                <p class="text-gray-400 mb-4">Mettez à jour vos informations et votre photo de profil.</p>
                <a href="{% url 'profile' %}" class="inline-block bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">Gérer le profil</a>
            </div>

            <div class="bg-gray-800 bg-opacity-30 border border-gray-700 rounded-3xl p-6 shadow-2xl backdrop-blur-xl transition transform hover:scale-105 duration-300">
                <i class="fas fa-lock text-4xl text-pink-400 mb-4"></i>
                <h3 class="text-2xl font-bold text-white mb-2">Sécurité du compte</h3>
                <p class="text-gray-400 mb-4">Modifiez votre mot de passe et vos paramètres de sécurité.</p>
                <a href="{% url 'password_change' %}" class="inline-block bg-gradient-to-r from-pink-500 to-red-600 hover:from-pink-600 hover:to-red-700 text-white font-semibold py-2 px-6 rounded-full transition duration-300">Paramètres de sécurité</a>
            </div>

        </div>

    </div>
</div>
{% endblock %}
